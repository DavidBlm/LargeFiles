package ba.intersection;

//Finds the earliest line intersection from a set of LineIntersection components
component FirstLineIntersection<N1 m1 = 4, N1 m2 = 10>{
    ports in B collisionIn[m2],
          in Q^{2,1} pointsIn[m2],

          out B collisionOut,
          out Z linexA,
          out Z linexB,
          out Q^{2,1} pos;

    implementation Math{
        Z k = 1;
        B found = False;

        for i = 1:m1
            for j = i:m1
                if found == False
                    if collisionIn(k)
                        linexA = i;
                        linexB = j;
                        pos = pointsIn(k);
                        found = True;
                    end
                    k = k + 1;
                end
            end
        end

        collisionOut = found;
    }

}