package ba.intersection;
import ba.util.LineIntersection;
import ba.util.TrajectoryToLine;
import ba.util.SingleSetCompareMatrix;

//TODO: x = (n-1)n/2
//TODO: m1 = m -1, m2 = m1(m1+1)/2
component ConflictComputer<N1 n = 2,N1 x = 1,N1 m = 5, N1 m1 = 4,N1 m2 = 10>{
    port in Q^{3,m} trajectory[n];
    port in Q cutoffTimeIn;
    port out B conflictOut[x];

    instance SingleSetCompareMatrix<3,m,n,x> singleSetCompare;
    instance TrajectoryCompare<m,m1,m2> trajectoryCompare[x];

    connect trajectory[:] -> singleSetCompare.setIn[:];
    connect singleSetCompare.listOut1[:] -> trajectoryCompare[:].trajectory1;
    connect singleSetCompare.listOut2[:] -> trajectoryCompare[:].trajectory2;
    connect cutoffTimeIn -> trajectoryCompare[:].cutoffTime;
    connect trajectoryCompare[:].conflict -> conflictOut[:];
}
