package ba.collisionDetection;
import ba.util.RectIntersection;
import ba.util.SingleSetCompareMatrix;
import ba.util.MultiOr;

component CollisionDetectionGeneric<N1 n = 2,N1 x = 1>{
//component CollisionDetection{
    ports in Q^{2,4} hulls[n],
          out B collision;

    instance SingleSetCompareMatrix<2,4,2,1> singleSetCompare;
    instance RectIntersection rectIntersection[x];
    instance MultiOr<1> multiOr;

    connect hulls[:] -> singleSetCompare.setIn[:];

    connect singleSetCompare.outA[:] -> rectIntersection[:].rect1;
    connect singleSetCompare.outB[:] -> rectIntersection[:].rect2;
    connect rectIntersection[:].collision -> multiOr.boolIn[:];
    connect multiOr.boolOut -> collision;
}